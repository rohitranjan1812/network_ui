<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network UI - Graph Visualization Platform</title>
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            color: #333;
            overflow: hidden;
        }
        
        /* Main Layout - Full Application Window */
        .app-container {
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        /* Menu Bar */
        .menu-bar {
            background: #2c3e50;
            color: white;
            padding: 0;
            height: 40px;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .menu-item {
            padding: 10px 20px;
            cursor: pointer;
            transition: background 0.3s;
            height: 100%;
            display: flex;
            align-items: center;
        }
        
        .menu-item:hover {
            background: #34495e;
        }
        
        .menu-dropdown {
            position: relative;
            display: inline-block;
        }
        
        .dropdown-content {
            display: none;
            position: absolute;
            background: #34495e;
            min-width: 200px;
            box-shadow: 0px 8px 16px rgba(0,0,0,0.2);
            z-index: 1000;
            top: 100%;
        }
        
        .dropdown-content a {
            color: white;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            cursor: pointer;
        }
        
        .dropdown-content a:hover {
            background: #2c3e50;
        }
        
        .menu-dropdown:hover .dropdown-content {
            display: block;
        }
        
        /* Toolbar */
        .toolbar {
            background: #ecf0f1;
            border-bottom: 1px solid #bdc3c7;
            padding: 10px;
            height: 60px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .toolbar-button {
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .toolbar-button:hover {
            background: #2980b9;
        }
        
        .toolbar-separator {
            width: 1px;
            height: 30px;
            background: #bdc3c7;
            margin: 0 5px;
        }
        
        /* Main Content Area */
        .main-content {
            flex: 1;
            display: flex;
            overflow: hidden;
        }
        
        /* Side Panel */
        .side-panel {
            width: 300px;
            background: white;
            border-right: 1px solid #ddd;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .panel-tabs {
            background: #f8f9fa;
            border-bottom: 1px solid #ddd;
            display: flex;
        }
        
        .panel-tab {
            flex: 1;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
            font-size: 12px;
        }
        
        .panel-tab.active {
            background: white;
            border-bottom-color: #3498db;
            color: #3498db;
        }
        
        .panel-tab:hover {
            background: #e9ecef;
        }
        
        .panel-content {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
        }
        
        .panel-section {
            display: none;
        }
        
        .panel-section.active {
            display: block;
        }
        
        /* Graph Canvas Area */
        .canvas-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .canvas-toolbar {
            background: #f8f9fa;
            border-bottom: 1px solid #ddd;
            padding: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        #graphCanvas {
            flex: 1;
            cursor: grab;
            background: white;
        }
        
        #graphCanvas:active {
            cursor: grabbing;
        }
        
        /* Status Bar */
        .status-bar {
            background: #34495e;
            color: white;
            padding: 5px 15px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 12px;
        }
        
        /* Form Elements */
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .form-control {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .form-control:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }
        
        .btn-primary {
            background: #3498db;
            color: white;
        }
        
        .btn-primary:hover {
            background: #2980b9;
        }
        
        .btn-success {
            background: #27ae60;
            color: white;
        }
        
        .btn-success:hover {
            background: #229954;
        }
        
        .btn-warning {
            background: #f39c12;
            color: white;
        }
        
        .btn-warning:hover {
            background: #e67e22;
        }
        
        .btn-danger {
            background: #e74c3c;
            color: white;
        }
        
        .btn-danger:hover {
            background: #c0392b;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        
        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 0;
            border-radius: 8px;
            width: 80%;
            max-width: 800px;
            max-height: 80vh;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }
        
        .modal-header {
            background: #3498db;
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-title {
            margin: 0;
            font-size: 18px;
        }
        
        .close {
            color: white;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            line-height: 1;
        }
        
        .close:hover {
            opacity: 0.7;
        }
        
        .modal-body {
            padding: 20px;
            max-height: 60vh;
            overflow-y: auto;
        }
        
        .modal-footer {
            padding: 15px 20px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        /* Wizard Steps */
        .wizard-steps {
            display: flex;
            margin-bottom: 20px;
        }
        
        .wizard-step {
            flex: 1;
            padding: 10px;
            background: #ecf0f1;
            color: #7f8c8d;
            text-align: center;
            position: relative;
        }
        
        .wizard-step.active {
            background: #3498db;
            color: white;
        }
        
        .wizard-step.completed {
            background: #27ae60;
            color: white;
        }
        
        .wizard-step::after {
            content: '';
            position: absolute;
            right: -10px;
            top: 0;
            width: 0;
            height: 0;
            border: 20px solid transparent;
            border-left-color: inherit;
            z-index: 1;
        }
        
        .wizard-step:last-child::after {
            display: none;
        }
        
        /* Data Preview Table */
        .data-preview {
            overflow-x: auto;
            margin: 15px 0;
        }
        
        .preview-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 12px;
        }
        
        .preview-table th,
        .preview-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        
        .preview-table th {
            background: #f8f9fa;
            font-weight: 600;
        }
        
        .preview-table tbody tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        /* Analysis Results */
        .analysis-result {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
        }
        
        .result-header {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .result-content {
            font-size: 14px;
        }
        
        /* Node Details */
        .node-details {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
        }
        
        .detail-item {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px solid #eee;
        }
        
        .detail-item:last-child {
            border-bottom: none;
        }
        
        .detail-label {
            font-weight: 600;
            color: #2c3e50;
        }
        
        .detail-value {
            color: #34495e;
        }
        
        /* Loading Indicator */
        .loading {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* File Upload */
        .file-upload {
            border: 2px dashed #bdc3c7;
            border-radius: 4px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .file-upload:hover {
            border-color: #3498db;
            background: #f8f9fa;
        }
        
        .file-upload.dragover {
            border-color: #27ae60;
            background: #d5f4e6;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .side-panel {
                width: 250px;
            }
            
            .modal-content {
                width: 95%;
                margin: 2% auto;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Menu Bar -->
        <div class="menu-bar">
            <div class="menu-dropdown">
                <div class="menu-item">File</div>
                <div class="dropdown-content">
                    <a onclick="newProject()">New Project</a>
                    <a onclick="openProject()">Open Project</a>
                    <a onclick="saveProject()">Save Project</a>
                    <a onclick="exportGraph()">Export Graph</a>
                    <a onclick="showImportWizard()">Import Data</a>
                </div>
            </div>
            <div class="menu-dropdown">
                <div class="menu-item">Edit</div>
                <div class="dropdown-content">
                    <a onclick="undo()">Undo</a>
                    <a onclick="redo()">Redo</a>
                    <a onclick="selectAll()">Select All</a>
                    <a onclick="deleteSelected()">Delete Selected</a>
                </div>
            </div>
            <div class="menu-dropdown">
                <div class="menu-item">View</div>
                <div class="dropdown-content">
                    <a onclick="zoomIn()">Zoom In</a>
                    <a onclick="zoomOut()">Zoom Out</a>
                    <a onclick="fitToWindow()">Fit to Window</a>
                    <a onclick="toggleGrid()">Toggle Grid</a>
                </div>
            </div>
            <div class="menu-dropdown">
                <div class="menu-item">Analysis</div>
                <div class="dropdown-content">
                    <a onclick="runCentralityAnalysis()">Centrality Analysis</a>
                    <a onclick="runCommunityDetection()">Community Detection</a>
                    <a onclick="runPathfinding()">Pathfinding</a>
                    <a onclick="runConnectivityAnalysis()">Connectivity Analysis</a>
                </div>
            </div>
            <div class="menu-dropdown">
                <div class="menu-item">Help</div>
                <div class="dropdown-content">
                    <a onclick="showUserGuide()">User Guide</a>
                    <a onclick="showKeyboardShortcuts()">Keyboard Shortcuts</a>
                    <a onclick="showAbout()">About</a>
                </div>
            </div>
        </div>
        
        <!-- Toolbar -->
        <div class="toolbar">
            <button class="toolbar-button" onclick="showImportWizard()" title="Import Data">
                📊 Import
            </button>
            <button class="toolbar-button" onclick="saveProject()" title="Save Project">
                💾 Save
            </button>
            <div class="toolbar-separator"></div>
            <button class="toolbar-button" onclick="undo()" title="Undo">
                ↶ Undo
            </button>
            <button class="toolbar-button" onclick="redo()" title="Redo">
                ↷ Redo
            </button>
            <div class="toolbar-separator"></div>
            <button class="toolbar-button" onclick="fitToWindow()" title="Fit to Window">
                🔍 Fit
            </button>
            <button class="toolbar-button" onclick="resetLayout()" title="Reset Layout">
                🔄 Reset Layout
            </button>
        </div>
        
        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Side Panel -->
            <div class="side-panel">
                <div class="panel-tabs">
                    <div class="panel-tab active" onclick="switchPanel('import')">Import</div>
                    <div class="panel-tab" onclick="switchPanel('analysis')">Analysis</div>
                    <div class="panel-tab" onclick="switchPanel('visual')">Visual</div>
                    <div class="panel-tab" onclick="switchPanel('details')">Details</div>
                </div>
                
                <!-- Import Panel -->
                <div class="panel-content">
                    <div id="import-panel" class="panel-section active">
                        <h3>Data Import</h3>
                        <div class="form-group">
                            <label class="form-label">Quick Import</label>
                            <button class="btn btn-primary" onclick="showImportWizard()" style="width: 100%;">
                                📊 Import Data Files
                            </button>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Sample Data</label>
                            <button class="btn btn-success" onclick="loadSampleData()" style="width: 100%;">
                                📈 Load Sample Data
                            </button>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Recent Files</label>
                            <div id="recent-files">
                                <div style="color: #999; font-style: italic;">No recent files</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Analysis Panel -->
                    <div id="analysis-panel" class="panel-section">
                        <h3>Graph Analysis</h3>
                        <div class="form-group">
                            <label class="form-label">Algorithm</label>
                            <select id="analysis-algorithm" class="form-control">
                                <option value="">Select algorithm...</option>
                                <optgroup label="Centrality Measures">
                                    <option value="degree_centrality">Degree Centrality</option>
                                    <option value="betweenness_centrality">Betweenness Centrality</option>
                                    <option value="closeness_centrality">Closeness Centrality</option>
                                    <option value="eigenvector_centrality">Eigenvector Centrality</option>
                                </optgroup>
                                <optgroup label="Community Detection">
                                    <option value="louvain_modularity">Louvain Modularity</option>
                                    <option value="girvan_newman">Girvan-Newman</option>
                                    <option value="label_propagation">Label Propagation</option>
                                </optgroup>
                                <optgroup label="Pathfinding">
                                    <option value="shortest_path">Shortest Path</option>
                                    <option value="all_paths">All Paths</option>
                                </optgroup>
                                <optgroup label="Connectivity">
                                    <option value="connected_components">Connected Components</option>
                                    <option value="cycle_detection">Cycle Detection</option>
                                    <option value="bridge_detection">Bridge Detection</option>
                                </optgroup>
                            </select>
                        </div>
                        <div id="analysis-parameters"></div>
                        <div class="form-group">
                            <button class="btn btn-primary" onclick="runAnalysis()" style="width: 100%;">
                                🔬 Run Analysis
                            </button>
                        </div>
                        <div id="analysis-results"></div>
                    </div>
                    
                    <!-- Visual Styling Panel -->
                    <div id="visual-panel" class="panel-section">
                        <h3>Visual Styling</h3>
                        <div class="form-group">
                            <label class="form-label">Layout Algorithm</label>
                            <select id="layout-algorithm" class="form-control" onchange="applyLayout()">
                                <option value="force_directed">Force-Directed</option>
                                <option value="circular">Circular</option>
                                <option value="hierarchical">Hierarchical</option>
                                <option value="grid">Grid</option>
                                <option value="random">Random</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Node Size: <span id="node-size-value">15</span></label>
                            <input type="range" id="node-size" class="form-control" min="5" max="50" value="15" onchange="updateNodeSize()">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Edge Width: <span id="edge-width-value">2</span></label>
                            <input type="range" id="edge-width" class="form-control" min="1" max="10" value="2" onchange="updateEdgeWidth()">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Node Color</label>
                            <input type="color" id="node-color" class="form-control" value="#4CAF50" onchange="updateNodeColor()">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Edge Color</label>
                            <input type="color" id="edge-color" class="form-control" value="#666666" onchange="updateEdgeColor()">
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="show-labels" checked onchange="toggleLabels()">
                                Show Labels
                            </label>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="show-arrows" checked onchange="toggleArrows()">
                                Show Arrows
                            </label>
                        </div>
                    </div>
                    
                    <!-- Details Panel -->
                    <div id="details-panel" class="panel-section">
                        <h3>Details on Demand</h3>
                        <div id="selection-details">
                            <div style="color: #999; font-style: italic;">
                                Click on a node or edge to see details
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Graph Canvas Area -->
            <div class="canvas-area">
                <div class="canvas-toolbar">
                    <select id="canvas-layout" onchange="applyLayout()">
                        <option value="force_directed">Force-Directed</option>
                        <option value="circular">Circular</option>
                        <option value="hierarchical">Hierarchical</option>
                        <option value="grid">Grid</option>
                        <option value="random">Random</option>
                    </select>
                    <button class="btn btn-primary" onclick="zoomIn()">🔍+</button>
                    <button class="btn btn-primary" onclick="zoomOut()">🔍-</button>
                    <button class="btn btn-primary" onclick="fitToWindow()">📐 Fit</button>
                    <button class="btn btn-warning" onclick="resetLayout()">🔄 Reset</button>
                    <span style="margin-left: auto;">
                        Nodes: <span id="node-count">0</span> | 
                        Edges: <span id="edge-count">0</span> |
                        Zoom: <span id="zoom-level">100%</span>
                    </span>
                </div>
                <canvas id="graphCanvas"></canvas>
                <div id="loading" class="loading">
                    <div class="spinner"></div>
                    <div>Loading...</div>
                </div>
            </div>
        </div>
        
        <!-- Status Bar -->
        <div class="status-bar">
            <span id="status-message">Ready</span>
            <span id="status-info">Network UI v1.0.0</span>
        </div>
    </div>
    
    <!-- Import Wizard Modal -->
    <div id="import-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Data Import Wizard</h2>
                <span class="close" onclick="closeImportWizard()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="wizard-steps">
                    <div class="wizard-step active" id="step-1">1. File Selection</div>
                    <div class="wizard-step" id="step-2">2. Data Preview</div>
                    <div class="wizard-step" id="step-3">3. Field Mapping</div>
                    <div class="wizard-step" id="step-4">4. Import</div>
                </div>
                
                <!-- Step 1: File Selection -->
                <div id="wizard-step-1" class="wizard-content">
                    <h3>Select Data File</h3>
                    <div class="file-upload" onclick="document.getElementById('file-input').click()">
                        <div>📁 Click to browse or drag and drop your file here</div>
                        <div style="margin-top: 10px; color: #666;">
                            Supported formats: CSV, JSON, XML
                        </div>
                    </div>
                    <input type="file" id="file-input" style="display: none;" accept=".csv,.json,.xml" onchange="handleFileSelect(event)">
                    <div id="selected-file-info" style="margin-top: 15px;"></div>
                </div>
                
                <!-- Step 2: Data Preview -->
                <div id="wizard-step-2" class="wizard-content" style="display: none;">
                    <h3>Data Preview</h3>
                    <div id="data-preview-container">
                        <div class="data-preview">
                            <table id="preview-table" class="preview-table">
                                <thead id="preview-header"></thead>
                                <tbody id="preview-body"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Step 3: Field Mapping -->
                <div id="wizard-step-3" class="wizard-content" style="display: none;">
                    <h3>Map Data Fields</h3>
                    <div id="field-mapping-container">
                        <div class="form-group">
                            <label class="form-label">Node ID Column</label>
                            <select id="node-id-field" class="form-control"></select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Node Name Column</label>
                            <select id="node-name-field" class="form-control"></select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Additional Attributes</label>
                            <div id="attribute-mapping"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Step 4: Import -->
                <div id="wizard-step-4" class="wizard-content" style="display: none;">
                    <h3>Import Data</h3>
                    <div id="import-summary"></div>
                    <div id="import-progress" style="display: none;">
                        <div class="spinner"></div>
                        <div>Importing data...</div>
                    </div>
                    <div id="import-results"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="wizard-prev" class="btn btn-secondary" onclick="previousStep()" style="display: none;">Previous</button>
                <button id="wizard-next" class="btn btn-primary" onclick="nextStep()">Next</button>
                <button id="wizard-import" class="btn btn-success" onclick="executeImport()" style="display: none;">Import</button>
                <button class="btn btn-secondary" onclick="closeImportWizard()">Cancel</button>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let graphData = { nodes: [], edges: [] };
        let canvas, ctx;
        let selectedNode = null;
        let selectedEdge = null;
        let isDragging = false;
        let dragNode = null;
        let offset = { x: 0, y: 0 };
        let scale = 1;
        let pan = { x: 0, y: 0 };
        let currentStep = 1;
        let importData = null;
        
        // Color schemes
        const colors = [
            '#4CAF50', '#2196F3', '#FF9800', '#9C27B0', 
            '#F44336', '#00BCD4', '#FF5722', '#795548',
            '#607D8B', '#E91E63', '#3F51B5', '#009688'
        ];
        
        // Initialize the application
        function init() {
            canvas = document.getElementById('graphCanvas');
            ctx = canvas.getContext('2d');
            
            // Set canvas size
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);
            
            // Add event listeners
            canvas.addEventListener('mousedown', onMouseDown);
            canvas.addEventListener('mousemove', onMouseMove);
            canvas.addEventListener('mouseup', onMouseUp);
            canvas.addEventListener('wheel', onWheel);
            canvas.addEventListener('click', onCanvasClick);
            
            // Load initial data
            loadSampleData();
            
            // Set initial status
            updateStatus('Application loaded successfully');
        }
        
        function resizeCanvas() {
            const container = canvas.parentElement;
            canvas.width = container.clientWidth;
            canvas.height = container.clientHeight - 50; // Account for toolbar
            redraw();
        }
        
        // Panel Management
        function switchPanel(panelName) {
            // Update tab states
            document.querySelectorAll('.panel-tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            
            // Update panel content
            document.querySelectorAll('.panel-section').forEach(section => section.classList.remove('active'));
            document.getElementById(panelName + '-panel').classList.add('active');
        }
        
        // Menu Functions
        function newProject() {
            if (confirm('Create a new project? This will clear current data.')) {
                graphData = { nodes: [], edges: [] };
                selectedNode = null;
                selectedEdge = null;
                redraw();
                updateStats();
                updateStatus('New project created');
            }
        }
        
        function openProject() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        try {
                            graphData = JSON.parse(e.target.result);
                            applyLayout();
                            updateStats();
                            updateStatus('Project loaded successfully');
                        } catch (error) {
                            alert('Error loading project: ' + error.message);
                        }
                    };
                    reader.readAsText(file);
                }
            };
            input.click();
        }
        
        function saveProject() {
            const dataStr = JSON.stringify(graphData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'network_project.json';
            link.click();
            URL.revokeObjectURL(url);
            updateStatus('Project saved');
        }
        
        function exportGraph() {
            // Export canvas as image
            const link = document.createElement('a');
            link.download = 'network_graph.png';
            link.href = canvas.toDataURL();
            link.click();
            updateStatus('Graph exported as image');
        }
        
        // Import Wizard Functions
        function showImportWizard() {
            document.getElementById('import-modal').style.display = 'block';
            currentStep = 1;
            updateWizardStep();
        }
        
        function closeImportWizard() {
            document.getElementById('import-modal').style.display = 'none';
            currentStep = 1;
            importData = null;
        }
        
        function nextStep() {
            if (currentStep < 4) {
                currentStep++;
                updateWizardStep();
            }
        }
        
        function previousStep() {
            if (currentStep > 1) {
                currentStep--;
                updateWizardStep();
            }
        }
        
        function updateWizardStep() {
            // Update step indicators
            for (let i = 1; i <= 4; i++) {
                const stepEl = document.getElementById('step-' + i);
                const contentEl = document.getElementById('wizard-step-' + i);
                
                if (i < currentStep) {
                    stepEl.className = 'wizard-step completed';
                } else if (i === currentStep) {
                    stepEl.className = 'wizard-step active';
                } else {
                    stepEl.className = 'wizard-step';
                }
                
                contentEl.style.display = (i === currentStep) ? 'block' : 'none';
            }
            
            // Update buttons
            document.getElementById('wizard-prev').style.display = currentStep > 1 ? 'inline-block' : 'none';
            document.getElementById('wizard-next').style.display = currentStep < 4 ? 'inline-block' : 'none';
            document.getElementById('wizard-import').style.display = currentStep === 4 ? 'inline-block' : 'none';
        }
        
        function handleFileSelect(event) {
            const file = event.target.files[0];
            if (file) {
                document.getElementById('selected-file-info').innerHTML = `
                    <strong>Selected:</strong> ${file.name}<br>
                    <strong>Size:</strong> ${(file.size / 1024).toFixed(2)} KB<br>
                    <strong>Type:</strong> ${file.type}
                `;
                
                // Read file for preview
                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        if (file.name.endsWith('.csv')) {
                            importData = parseCSV(e.target.result);
                        } else if (file.name.endsWith('.json')) {
                            importData = JSON.parse(e.target.result);
                        }
                        createDataPreview();
                    } catch (error) {
                        alert('Error reading file: ' + error.message);
                    }
                };
                reader.readAsText(file);
            }
        }
        
        function parseCSV(csvText) {
            const lines = csvText.split('\n');
            const headers = lines[0].split(',').map(h => h.trim());
            const data = [];
            
            for (let i = 1; i < lines.length && i < 11; i++) { // Limit preview to 10 rows
                if (lines[i].trim()) {
                    const values = lines[i].split(',').map(v => v.trim());
                    const row = {};
                    headers.forEach((header, index) => {
                        row[header] = values[index] || '';
                    });
                    data.push(row);
                }
            }
            
            return { headers, data };
        }
        
        function createDataPreview() {
            if (!importData) return;
            
            const headerEl = document.getElementById('preview-header');
            const bodyEl = document.getElementById('preview-body');
            
            // Create header
            headerEl.innerHTML = '';
            const headerRow = document.createElement('tr');
            importData.headers.forEach(header => {
                const th = document.createElement('th');
                th.textContent = header;
                headerRow.appendChild(th);
            });
            headerEl.appendChild(headerRow);
            
            // Create body
            bodyEl.innerHTML = '';
            importData.data.forEach(row => {
                const tr = document.createElement('tr');
                importData.headers.forEach(header => {
                    const td = document.createElement('td');
                    td.textContent = row[header] || '';
                    tr.appendChild(td);
                });
                bodyEl.appendChild(tr);
            });
            
            // Populate field mapping dropdowns
            populateFieldMappings();
        }
        
        function populateFieldMappings() {
            const nodeIdField = document.getElementById('node-id-field');
            const nodeNameField = document.getElementById('node-name-field');
            
            // Clear existing options
            nodeIdField.innerHTML = '<option value="">Select field...</option>';
            nodeNameField.innerHTML = '<option value="">Select field...</option>';
            
            // Add field options
            importData.headers.forEach(header => {
                const option1 = document.createElement('option');
                option1.value = header;
                option1.textContent = header;
                nodeIdField.appendChild(option1);
                
                const option2 = document.createElement('option');
                option2.value = header;
                option2.textContent = header;
                nodeNameField.appendChild(option2);
            });
            
            // Auto-select common field names
            if (importData.headers.includes('id')) {
                nodeIdField.value = 'id';
            }
            if (importData.headers.includes('name')) {
                nodeNameField.value = 'name';
            }
        }
        
        function executeImport() {
            const nodeIdField = document.getElementById('node-id-field').value;
            const nodeNameField = document.getElementById('node-name-field').value;
            
            if (!nodeIdField) {
                alert('Please select a Node ID field');
                return;
            }
            
            document.getElementById('import-progress').style.display = 'block';
            
            // Simulate import process
            setTimeout(() => {
                try {
                    const mappingConfig = {
                        node_id: nodeIdField,
                        node_name: nodeNameField || nodeIdField
                    };
                    
                    fetch('/import', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            data: importData.data,
                            mappingConfig: mappingConfig
                        })
                    })
                    .then(response => response.json())
                    .then(result => {
                        if (result.success) {
                            loadGraphData();
                            document.getElementById('import-results').innerHTML = `
                                <div style="color: green;">
                                    ✅ Import successful!<br>
                                    Created ${result.nodes_created || 0} nodes
                                </div>
                            `;
                            updateStatus('Data imported successfully');
                            setTimeout(() => closeImportWizard(), 2000);
                        } else {
                            document.getElementById('import-results').innerHTML = `
                                <div style="color: red;">
                                    ❌ Import failed: ${result.error}
                                </div>
                            `;
                        }
                    })
                    .catch(error => {
                        document.getElementById('import-results').innerHTML = `
                            <div style="color: red;">
                                ❌ Import error: ${error.message}
                            </div>
                        `;
                    })
                    .finally(() => {
                        document.getElementById('import-progress').style.display = 'none';
                    });
                    
                } catch (error) {
                    document.getElementById('import-progress').style.display = 'none';
                    document.getElementById('import-results').innerHTML = `
                        <div style="color: red;">
                            ❌ Import error: ${error.message}
                        </div>
                    `;
                }
            }, 1000);
        }
        
        // Load functions
        async function loadGraphData() {
            showLoading(true);
            try {
                const response = await fetch('/api/v1/graph');
                if (!response.ok) throw new Error('Failed to fetch graph data');
                
                graphData = await response.json();
                updateStats();
                applyLayout();
                updateStatus('Graph data loaded');
            } catch (error) {
                console.error('Error loading graph data:', error);
                updateStatus('Error loading graph data: ' + error.message);
            } finally {
                showLoading(false);
            }
        }
        
        async function loadSampleData() {
            showLoading(true);
            try {
                const response = await fetch('/import', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        filePath: 'data/test_data/test_data.csv',
                        mappingConfig: {
                            node_id: 'id',
                            node_name: 'name',
                            attribute_category: 'category',
                            attribute_department: 'department'
                        }
                    })
                });
                
                if (!response.ok) throw new Error('Failed to import sample data');
                
                await loadGraphData();
                updateStatus('Sample data loaded');
            } catch (error) {
                console.error('Error loading sample data:', error);
                updateStatus('Error loading sample data: ' + error.message);
            } finally {
                showLoading(false);
            }
        }
        
        // Analysis functions
        async function runAnalysis() {
            const algorithm = document.getElementById('analysis-algorithm').value;
            if (!algorithm) {
                alert('Please select an algorithm');
                return;
            }
            
            showLoading(true);
            try {
                const parameters = {};
                
                // Add algorithm-specific parameters
                if (algorithm === 'shortest_path' || algorithm === 'all_paths') {
                    const sourceNode = prompt('Enter source node ID:');
                    const targetNode = prompt('Enter target node ID:');
                    if (!sourceNode || !targetNode) return;
                    parameters.source_node_id = sourceNode;
                    parameters.target_node_id = targetNode;
                }
                
                const response = await fetch('/api/v1/analytics/analyze', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        algorithm: algorithm,
                        parameters: parameters,
                        graphData: graphData
                    })
                });
                
                if (!response.ok) throw new Error('Analysis failed');
                
                const result = await response.json();
                displayAnalysisResults(result);
                
                // Apply visual mapping if provided
                if (result.visual_mapping) {
                    applyVisualMapping(result.visual_mapping);
                }
                
                updateStatus(`Analysis complete: ${algorithm}`);
            } catch (error) {
                console.error('Error running analysis:', error);
                updateStatus('Analysis error: ' + error.message);
            } finally {
                showLoading(false);
            }
        }
        
        function displayAnalysisResults(result) {
            const resultsEl = document.getElementById('analysis-results');
            resultsEl.innerHTML = `
                <div class="analysis-result">
                    <div class="result-header">${result.algorithm}</div>
                    <div class="result-content">
                        <pre>${JSON.stringify(result.results, null, 2)}</pre>
                    </div>
                </div>
            `;
        }
        
        function applyVisualMapping(visualMapping) {
            if (visualMapping.node_colors) {
                Object.entries(visualMapping.node_colors).forEach(([nodeId, color]) => {
                    const node = graphData.nodes.find(n => n.id === nodeId);
                    if (node) {
                        node.visual_properties = node.visual_properties || {};
                        node.visual_properties.color = color;
                    }
                });
            }
            
            if (visualMapping.node_sizes) {
                Object.entries(visualMapping.node_sizes).forEach(([nodeId, size]) => {
                    const node = graphData.nodes.find(n => n.id === nodeId);
                    if (node) {
                        node.visual_properties = node.visual_properties || {};
                        node.visual_properties.size = size;
                    }
                });
            }
            
            redraw();
        }
        
        // Layout and rendering functions
        function applyLayout() {
            const layout = document.getElementById('layout-algorithm').value || 
                          document.getElementById('canvas-layout').value;
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = Math.min(canvas.width, canvas.height) * 0.3;
            
            graphData.nodes.forEach((node, index) => {
                switch (layout) {
                    case 'circular':
                        const angle = (index / graphData.nodes.length) * 2 * Math.PI;
                        node.position = {
                            x: centerX + radius * Math.cos(angle),
                            y: centerY + radius * Math.sin(angle)
                        };
                        break;
                    case 'grid':
                        const cols = Math.ceil(Math.sqrt(graphData.nodes.length));
                        const row = Math.floor(index / cols);
                        const col = index % cols;
                        node.position = {
                            x: centerX - (cols * 100) / 2 + col * 100,
                            y: centerY - (Math.ceil(graphData.nodes.length / cols) * 100) / 2 + row * 100
                        };
                        break;
                    case 'random':
                        node.position = {
                            x: Math.random() * canvas.width,
                            y: Math.random() * canvas.height
                        };
                        break;
                    case 'hierarchical':
                        const level = node.level || 1;
                        const nodesInLevel = graphData.nodes.filter(n => (n.level || 1) === level).length;
                        const levelIndex = graphData.nodes.filter(n => (n.level || 1) === level).indexOf(node);
                        node.position = {
                            x: centerX - (nodesInLevel * 80) / 2 + levelIndex * 80,
                            y: centerY - 200 + level * 100
                        };
                        break;
                    default: // force_directed
                        if (!node.position) {
                            node.position = {
                                x: centerX + (Math.random() - 0.5) * 200,
                                y: centerY + (Math.random() - 0.5) * 200
                            };
                        }
                }
            });
            
            redraw();
        }
        
        function resetLayout() {
            graphData.nodes.forEach(node => {
                node.position = null;
            });
            applyLayout();
        }
        
        function redraw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Apply transformations
            ctx.save();
            ctx.translate(pan.x, pan.y);
            ctx.scale(scale, scale);
            
            // Draw edges
            drawEdges();
            
            // Draw nodes
            drawNodes();
            
            ctx.restore();
            
            // Update zoom display
            document.getElementById('zoom-level').textContent = Math.round(scale * 100) + '%';
        }
        
        function drawEdges() {
            const edgeWidth = parseInt(document.getElementById('edge-width').value);
            const edgeColor = document.getElementById('edge-color').value;
            const showArrows = document.getElementById('show-arrows').checked;
            
            graphData.edges.forEach(edge => {
                const sourceNode = graphData.nodes.find(n => n.id === edge.source);
                const targetNode = graphData.nodes.find(n => n.id === edge.target);
                
                if (sourceNode && targetNode && sourceNode.position && targetNode.position) {
                    ctx.beginPath();
                    ctx.moveTo(sourceNode.position.x, sourceNode.position.y);
                    ctx.lineTo(targetNode.position.x, targetNode.position.y);
                    ctx.strokeStyle = edge.visual_properties?.color || edgeColor;
                    ctx.lineWidth = edge.visual_properties?.width || edgeWidth;
                    ctx.stroke();
                    
                    // Draw arrow if enabled
                    if (showArrows) {
                        const angle = Math.atan2(targetNode.position.y - sourceNode.position.y, 
                                               targetNode.position.x - sourceNode.position.x);
                        const arrowLength = 10;
                        const arrowAngle = Math.PI / 6;
                        
                        ctx.beginPath();
                        ctx.moveTo(targetNode.position.x, targetNode.position.y);
                        ctx.lineTo(targetNode.position.x - arrowLength * Math.cos(angle - arrowAngle),
                                  targetNode.position.y - arrowLength * Math.sin(angle - arrowAngle));
                        ctx.moveTo(targetNode.position.x, targetNode.position.y);
                        ctx.lineTo(targetNode.position.x - arrowLength * Math.cos(angle + arrowAngle),
                                  targetNode.position.y - arrowLength * Math.sin(angle + arrowAngle));
                        ctx.stroke();
                    }
                }
            });
        }
        
        function drawNodes() {
            const nodeSize = parseInt(document.getElementById('node-size').value);
            const nodeColor = document.getElementById('node-color').value;
            const showLabels = document.getElementById('show-labels').checked;
            
            graphData.nodes.forEach(node => {
                if (!node.position) return;
                
                // Get node color
                let color = node.visual_properties?.color || nodeColor;
                
                // Draw node
                ctx.beginPath();
                const size = node.visual_properties?.size || nodeSize;
                ctx.arc(node.position.x, node.position.y, size, 0, 2 * Math.PI);
                ctx.fillStyle = color;
                ctx.fill();
                ctx.strokeStyle = '#ffffff';
                ctx.lineWidth = 2;
                ctx.stroke();
                
                // Highlight selected node
                if (selectedNode && selectedNode.id === node.id) {
                    ctx.beginPath();
                    ctx.arc(node.position.x, node.position.y, size + 5, 0, 2 * Math.PI);
                    ctx.strokeStyle = '#FFD700';
                    ctx.lineWidth = 3;
                    ctx.stroke();
                }
                
                // Draw label
                if (showLabels && node.name) {
                    ctx.fillStyle = '#333';
                    ctx.font = '12px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText(node.name, node.position.x, node.position.y + size + 15);
                }
            });
        }
        
        // Interaction functions
        function onMouseDown(e) {
            const rect = canvas.getBoundingClientRect();
            const x = (e.clientX - rect.left - pan.x) / scale;
            const y = (e.clientY - rect.top - pan.y) / scale;
            
            // Check if clicking on a node
            const nodeSize = parseInt(document.getElementById('node-size').value);
            for (let i = graphData.nodes.length - 1; i >= 0; i--) {
                const node = graphData.nodes[i];
                if (node.position) {
                    const distance = Math.sqrt((x - node.position.x) ** 2 + (y - node.position.y) ** 2);
                    if (distance <= nodeSize) {
                        selectedNode = node;
                        showNodeDetails(node);
                        isDragging = true;
                        dragNode = node;
                        offset.x = x - node.position.x;
                        offset.y = y - node.position.y;
                        redraw();
                        return;
                    }
                }
            }
            
            // If not clicking on a node, start panning
            isDragging = true;
            dragNode = null;
            offset.x = x;
            offset.y = y;
        }
        
        function onMouseMove(e) {
            if (!isDragging) return;
            
            const rect = canvas.getBoundingClientRect();
            const x = (e.clientX - rect.left - pan.x) / scale;
            const y = (e.clientY - rect.top - pan.y) / scale;
            
            if (dragNode) {
                // Move node
                dragNode.position.x = x - offset.x;
                dragNode.position.y = y - offset.y;
                redraw();
            } else {
                // Pan canvas
                pan.x = e.clientX - rect.left - offset.x * scale;
                pan.y = e.clientY - rect.top - offset.y * scale;
                redraw();
            }
        }
        
        function onMouseUp() {
            isDragging = false;
            dragNode = null;
        }
        
        function onWheel(e) {
            e.preventDefault();
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
            const newScale = Math.max(0.1, Math.min(3, scale * zoomFactor));
            
            pan.x = x - (x - pan.x) * (newScale / scale);
            pan.y = y - (y - pan.y) * (newScale / scale);
            scale = newScale;
            
            redraw();
        }
        
        function onCanvasClick(e) {
            if (isDragging) return;
            
            const rect = canvas.getBoundingClientRect();
            const x = (e.clientX - rect.left - pan.x) / scale;
            const y = (e.clientY - rect.top - pan.y) / scale;
            
            // Check if clicking on a node
            const nodeSize = parseInt(document.getElementById('node-size').value);
            let clickedNode = null;
            
            for (let i = graphData.nodes.length - 1; i >= 0; i--) {
                const node = graphData.nodes[i];
                if (node.position) {
                    const distance = Math.sqrt((x - node.position.x) ** 2 + (y - node.position.y) ** 2);
                    if (distance <= nodeSize) {
                        clickedNode = node;
                        break;
                    }
                }
            }
            
            if (clickedNode) {
                selectedNode = clickedNode;
                showNodeDetails(clickedNode);
            } else {
                selectedNode = null;
                hideNodeDetails();
            }
            
            redraw();
        }
        
        // Details panel functions
        function showNodeDetails(node) {
            document.getElementById('details-panel').classList.add('active');
            document.querySelector('[onclick="switchPanel(\'details\')"]').click();
            
            const detailsEl = document.getElementById('selection-details');
            
            let html = `
                <div class="node-details">
                    <h4>Node Details</h4>
                    <div class="detail-item">
                        <span class="detail-label">ID:</span>
                        <span class="detail-value">${node.id}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Name:</span>
                        <span class="detail-value">${node.name || 'N/A'}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Level:</span>
                        <span class="detail-value">${node.level || 'N/A'}</span>
                    </div>
            `;
            
            if (node.attributes && Object.keys(node.attributes).length > 0) {
                html += '<h5>Attributes</h5>';
                Object.entries(node.attributes).forEach(([key, value]) => {
                    html += `
                        <div class="detail-item">
                            <span class="detail-label">${key}:</span>
                            <span class="detail-value">${value}</span>
                        </div>
                    `;
                });
            }
            
            html += '</div>';
            detailsEl.innerHTML = html;
        }
        
        function hideNodeDetails() {
            document.getElementById('selection-details').innerHTML = `
                <div style="color: #999; font-style: italic;">
                    Click on a node or edge to see details
                </div>
            `;
        }
        
        // Visual styling functions
        function updateNodeSize() {
            const value = document.getElementById('node-size').value;
            document.getElementById('node-size-value').textContent = value;
            redraw();
        }
        
        function updateEdgeWidth() {
            const value = document.getElementById('edge-width').value;
            document.getElementById('edge-width-value').textContent = value;
            redraw();
        }
        
        function updateNodeColor() {
            redraw();
        }
        
        function updateEdgeColor() {
            redraw();
        }
        
        function toggleLabels() {
            redraw();
        }
        
        function toggleArrows() {
            redraw();
        }
        
        // Zoom and view functions
        function zoomIn() {
            scale = Math.min(3, scale * 1.2);
            redraw();
        }
        
        function zoomOut() {
            scale = Math.max(0.1, scale / 1.2);
            redraw();
        }
        
        function fitToWindow() {
            if (graphData.nodes.length === 0) return;
            
            // Calculate bounding box
            let minX = Infinity, maxX = -Infinity;
            let minY = Infinity, maxY = -Infinity;
            
            graphData.nodes.forEach(node => {
                if (node.position) {
                    minX = Math.min(minX, node.position.x);
                    maxX = Math.max(maxX, node.position.x);
                    minY = Math.min(minY, node.position.y);
                    maxY = Math.max(maxY, node.position.y);
                }
            });
            
            const width = maxX - minX;
            const height = maxY - minY;
            const centerX = (minX + maxX) / 2;
            const centerY = (minY + maxY) / 2;
            
            // Calculate scale to fit
            const scaleX = (canvas.width * 0.8) / width;
            const scaleY = (canvas.height * 0.8) / height;
            scale = Math.min(scaleX, scaleY, 2);
            
            // Center the view
            pan.x = canvas.width / 2 - centerX * scale;
            pan.y = canvas.height / 2 - centerY * scale;
            
            redraw();
        }
        
        // Utility functions
        function updateStats() {
            document.getElementById('node-count').textContent = graphData.nodes.length;
            document.getElementById('edge-count').textContent = graphData.edges.length;
        }
        
        function updateStatus(message) {
            document.getElementById('status-message').textContent = message;
        }
        
        function showLoading(show) {
            document.getElementById('loading').style.display = show ? 'block' : 'none';
        }
        
        // Graph manipulation functions
        function undo() {
            // Implementation would depend on graph engine undo functionality
            updateStatus('Undo function called');
        }
        
        function redo() {
            // Implementation would depend on graph engine redo functionality
            updateStatus('Redo function called');
        }
        
        function selectAll() {
            // Select all nodes
            updateStatus('All nodes selected');
        }
        
        function deleteSelected() {
            if (selectedNode) {
                if (confirm('Delete selected node?')) {
                    graphData.nodes = graphData.nodes.filter(n => n.id !== selectedNode.id);
                    graphData.edges = graphData.edges.filter(e => 
                        e.source !== selectedNode.id && e.target !== selectedNode.id);
                    selectedNode = null;
                    hideNodeDetails();
                    redraw();
                    updateStats();
                    updateStatus('Node deleted');
                }
            }
        }
        
        // Analysis shortcuts
        function runCentralityAnalysis() {
            document.getElementById('analysis-algorithm').value = 'degree_centrality';
            document.querySelector('[onclick="switchPanel(\'analysis\')"]').click();
            runAnalysis();
        }
        
        function runCommunityDetection() {
            document.getElementById('analysis-algorithm').value = 'louvain_modularity';
            document.querySelector('[onclick="switchPanel(\'analysis\')"]').click();
            runAnalysis();
        }
        
        function runPathfinding() {
            document.getElementById('analysis-algorithm').value = 'shortest_path';
            document.querySelector('[onclick="switchPanel(\'analysis\')"]').click();
        }
        
        function runConnectivityAnalysis() {
            document.getElementById('analysis-algorithm').value = 'connected_components';
            document.querySelector('[onclick="switchPanel(\'analysis\')"]').click();
            runAnalysis();
        }
        
        // Help functions
        function showUserGuide() {
            window.open('/docs/user_guide/COMPREHENSIVE_GUIDE.md', '_blank');
        }
        
        function showKeyboardShortcuts() {
            alert('Keyboard Shortcuts:\n\nCtrl+Z: Undo\nCtrl+Y: Redo\nCtrl+A: Select All\nDelete: Delete Selected\nCtrl+S: Save Project\nCtrl+O: Open Project');
        }
        
        function showAbout() {
            alert('Network UI v1.0.0\nGraph Visualization Platform\n\nBuilt with HTML5 Canvas and JavaScript\nSupports data import, analysis, and interactive visualization');
        }
        
        // Initialize when page loads
        window.addEventListener('load', init);
        
        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey) {
                switch (e.key) {
                    case 'z':
                        e.preventDefault();
                        undo();
                        break;
                    case 'y':
                        e.preventDefault();
                        redo();
                        break;
                    case 's':
                        e.preventDefault();
                        saveProject();
                        break;
                    case 'o':
                        e.preventDefault();
                        openProject();
                        break;
                    case 'a':
                        e.preventDefault();
                        selectAll();
                        break;
                }
            } else if (e.key === 'Delete') {
                deleteSelected();
            }
        });
    </script>
</body>
</html> 